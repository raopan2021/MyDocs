---
layout: doc
---

# 项目基础配置

<br>

<el-link ref="https://juejin.cn/post/7164276166084263972" target="_blank" type="primary">资源来自--65岁退休Coder</el-link>

目标 `1:1` 复现 `vitepress` 的布局。



## 1、新建配置文件

在你的文档目录下创建一个 `.vuepress` 目录

新建配置文件 `.vuepress/config.js`

所有 `VuePress `相关的文件都将会被放在这里。你的项目结构应该是这样：

```js
.
├─ docs
│  ├─ .vitepress
│  │  └─ cache // 各种打包的min.js
│  │  └─ dit // 你npm run build打包的文件
│  │  ├─  theme 
│  │  │   ├─ style // 全局css样式文件夹
│  │  │   ├─ index.js // 在这里import各种全局应用的包，比如elementPlus
│  │  │   ├─ theme-nav.md // nav栏，我不会这样写
│  │  │   └─ theme-sidebar.md // 侧边栏，不会
│  │  └─ config.js // 配置文件！！！！！！！！！！！！
│  └─ index.md // 首页
│  └─ docs1 // 你的文档1，  VitePress` 会根据 `docs1/` 下的文件内容映射成可访问路由
│  └─ docs2 // 你的文档2，  比如 `/09-VitePress/index.md` 则访问地址为
│  └─ docsn // 你的文档n，  http://localhost:9001/MyDocs/09-VitePress/
│  └─ public // 图片静态资源！！！
│  └─ demos // 你可以在这里写一下vue组件，在doc里面的md文件里面引用
└─ package.json
```

`VitePress` 会根据 `docs1/` 下的文件内容映射成可访问路由。

## 2、配置`config.js`

`VitePress` 提供了一个配置对象，该对象应当存在于 `/docs/.vitepress/config.js` 中。

在这里可以配置 `Nav` `Sidebar` 等等重要信息。

```js
import { defineConfig } from 'vitepress'

// 顶部导航数据
const nav = [
  { text: 'js深入',link: '/04-js深入/index' },
  { text: 'js算法',link: '/04-js算法/index' },
  { text: 'VitePress',link: '/09-VitePress/index' },
  // { text: '组件',link: '/components/basic-component1' },
  // 顶部导航下拉菜单按如下方式：
  // {
  //   text: 'Dropdown Menu',
  //   items: [
  //     { text: 'Item A', link: '/item-1' },
  //     { text: 'Item B', link: '/item-2' },
  //     { text: 'Item C', link: '/item-3' }
  //   ]
  // }
]

export default defineConfig({
  title: 'panpan', // 浏览器标签页的title标题
  description: 'panpan的前端知识',  // 浏览器标签页的描述
  lang: 'cn-ZH',
  base: '/MyDocs/', // 项目的文件夹、github仓库、还有这个，保持一致！！！
  lastUpdated: true, // 开启上次更新时间（提交代码到github之类的仓库才显示，根据提交的hi见获取）

  themeConfig: {
    logo: '/logo.png', // nav栏最左侧的logo
    siteTitle: 'panpan的前端知识', // nav栏最左侧的标题
    outline: 2, // 右侧文档目录显示的层级（建议：markdown文件的标题是几级，这里就写几）
    socialLinks: [ // // nav栏最右侧的社交链接、图标
      { icon: 'github',link: 'https://github.com/raopan2021/MyDocs' }
    ],
    docFooter: { prev: '上一篇',next: '下一篇' }, // 上下翻页，修改默认的文字(pre、next)。
    nav, // 顶部的nav栏
    sidebar: { // 文档目录
      "/": getSidebar(path.resolve(__dirname,"../04-js深入"))
        .concat(getSidebar(path.resolve(__dirname,"../05-js算法")))
        .concat(getSidebar(path.resolve(__dirname,"../09-VitePress"))),
    }
  },

  // markdown 配置
  markdown: {
    theme: {
      light: 'vitesse-light',
      dark: 'vitesse-dark'
    },
    lineNumbers: true,
    config (md) {
      md.use(componentPreview)
      md.use(containerPreview)
    }
  }
})
```



## 3、首页`layout: home`配置

`/docs/index.md`文件会被解析为首页

文件通过`layout: home`来标注这是首页

::: warning

不要忘了`---`，这个是必须的

:::

```markdown
---
layout: home

hero:
  name: 主标题
  text: 内容信息
  tagline: 副内容信息
  image:
    src: /logo.png
    alt: 网站的 logo 图片
  actions:
    - theme: brand
      text: 快速开始
      link: /guide
    - theme: alt
      text: 在 github 上查看
      link: https://github.com/vuejs/vitepress
features:
  - icon: ⚡️
    title: 这里是功能区 1
    details: 这里是功能区 1 详情信息
  - icon: 🖖
    title: 这里是功能区 2
    details: 这里是功能区 2 详情信息
  - icon: 🛠️
    title: 这里是功能区 3
    details: 这里是功能区 3 详情信息
---
```



## 4、页面`Page` /`Doc` 布局

这两种基本都是在书写文档的详细内容时而需要的布局。

从表现形式上看也只是 **`文章内容显示位置上面的不同`**

 `page` 相比较 `doc` 会默认缺少一些内容比如 `Edit Link`，`NextPage` `PrePage` 等。

大多数情况下在编写内容时推荐使用 `doc`。

```markdown
---
layout: doc
---
巴啦啦能量
```

```markdown
---
layout: page
---
真的吗？我不信！
```



## 5、`Nav` 导航栏详解

`Nav` 配置有两种方式，直接点击跳转和下拉菜单样式。详情参考以下配置信息。 主要有以下字段：

- `link`：当触发点击事件时跳转的地址；可以是外链也可以是项目内的路径。

- `activeMatch`： 需要被高亮的 `nav` 。

- `text`：显示到页面的信息。

  ```js
  import { defineConfig } from 'vitepress';
  
  export default defineConfig({
    themeConfig: {
      nav: [
        { text: 'Guide', link: '/guide', activeMatch: '/guide/what-is-vitepress' },
        {
          text: '下拉选择框',
          items: [
            { text: 'options-1', link: '/' },
            { text: 'options-2', link: 'http://www.baidu.com' }
          ]
        }
      ]
    }
  });
  ```

**社交链接** 严格来说不算 `nav` 范畴，但是显示位置基本相同。

```js
export default defineConfig({
  themeConfig: {
    socialLinks: [{ icon: "github", link: "https://github.com" }],
  }
});
```

- `icon`：`discord` `facebook` `github` `instagram` `linkedin` `slack` `twitter` `youtube` 或者 `svg` 字符串
- `link`：跳转链接。



## 6、`Sidebar` 侧边栏导航

`sidebar` 同样有两种配置方式。接受以下配置对象：

- `text`：侧边栏块的 `title`。
- `items`：侧边栏的每一项，`text` 为标题；`link` 为跳转地址。
- `collapsible`：菜单是否为可折叠的 `Boolean`。
- `collapsed`：是否默认折叠 `Boolean` 只有配置 `collapsiable` 时此配置才会生效。

### 方法1：数组配置方式

适合文档没有那么多的时候；

```js
sidebar: [
  {
    text: 'Guide',
    items: [
      { text: 'Introduction', link: '/guide/what-is-vitepress' },
      { text: 'Getting Started', link: '/getting-started' },
    ],
    collapsible: true,
    collapsed: true
  }
],
```

### 方法2：对象配置方式

能够更好的组织文档结构。

```js
sidebar: {
  '/guide/': [
    {
      text: 'Guide',
      items: [
        { text: 'Index', link: '/guide/' }, // /guide/index.md
        { text: 'One', link: '/guide/one' }, // /guide/one.md
        { text: 'Two', link: '/guide/two' } // /guide/two.md
      ]
    }
  ]
}
```

### 方法3：自动生成sidebar，详见`05自动生成目录`



## 7、静态图片资源

::: warning
推荐放入 `/docs/public` 文件夹中。
:::

在 `md` 文件中使用: `![An image](/panpan.jpg)`。 

```js
![An image](/panpan.jpg)
```
![An image](/panpan.jpg)



## 8、路径配置规则

以 `/docs` 为根目录，进行配置；`/` 以 `docs` 开始。示例：

```js
export default defineConfig({
  themeConfig: {
    // link 点击时跳转的默认地址
    // activeMatch 无论在 guide 下的哪一个子菜单都会保持高亮。
    nav: [{ text: '指导', link: '/guide/what-is-vitepress', activeMatch: '/guide' }],
    sidebar: {
      '/guide/': [
        {
          text: '介绍',
          items: [
            { text: '什么是 VitePress', link: '/guide/what-is-vitepress' },
            { text: '快速开始', link: '/guide/getting-started' },
            { text: '配置', link: '/guide/configuration' },
            { text: '发布', link: '/guide/deploying' }
          ],
          collapsible: true
        }
      ]
    }
  }
});
```



## 9、上下翻页

此功能虽是默认提供，也可以通过配置来定制默认的文字。

```js
export default {
  themeConfig: {
    docFooter: { prev: '上一篇', next: '下一篇' }
  }
}
```



## 10、在 `Github` 编辑此页

可以通过 `editLink` 来进行配置

`pattern`：可以分为两部分，`:path` 为变量内容指当前的文件名称。`:path` 之前的部分则是项目的 `/docs` 的 `github` 的文档地址。

```js
export default {
  themeConfig: {
    editLink: {
      pattern: 'https://github.com/vuejs/vitepress/edit/main/docs/:path',
      text: 'Edit this page on GitHub'
    }
  }
}
```



## 11、最后更新时间

需要在 `themeConfig` 平级去开启此选项，然后在 `themeConfig` 中可以去定制其展示文字。需要注意的是配置之后不会立即生效。（是根据git commit的时间实现的）

```js
export default {
  lastUpdated: true,
  themeConfig: {
    lastUpdatedText: "最近更新时间"
  }
}
```



## 12、主 `title` 内容与图片配置

```js
export default defineConfig({
  title: '自定义的 title',
  themeConfig: {
    logo: '/test.jpg',
  }
})
```

![vitepress08.jpg](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e978c30575db4f9a8a55536144442e9f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?)



## 13、打包后输出目录的配置

```js
export default {
  outDir: '../dist'
}
```



## 14、`markdown` 主题配置

 [点击查看文档](https://link.juejin.cn/?target=https%3A%2F%2Fvitepress.vuejs.org%2Fconfig%2Fapp-configs%23markdown)



## 15、`description` 

配置后会显示页面中 `<meta name="description" content="xxxx">` 显示

```js
export default defineConfig({
  description: '自定义的 description',
})
```



## 16、`head` 

配置后会显示在页面中的 `head` 中。可以配置多个。应该也能扩展 `VitePress` 的功能，有兴趣的可以研究下。

```js
export default defineConfig({
  head: [['meta', { name: 'keywords', content: 'HTML, CSS, JavaScript' }]],
})
```

![vitepress09.jpg](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b8ee131d33243499393b05ef873358a~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?)



## 17、页脚

通过 `footer` 进行配置。**如果 `Sidebar` 存在则页脚不会存在**

```js
export default {
  themeConfig: {
    footer: {
      message: 'Released under the MIT License.',
      copyright: 'Copyright © 2019-present Evan You'
    }
  }
}
```

![vitepress10.jpg](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/edd49e0782ce41a68ec11806d2c1dd31~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?)